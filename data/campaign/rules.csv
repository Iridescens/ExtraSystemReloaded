id,trigger,conditions,script,text,options,notes
# default starport interaction,,,,,,
ESMainDialog,PopulateOptions,"$hasMarket
$menuState == main
$tradeMode == OPEN
RepairAvailable","SetShortcut ESMainMenu ""U"" true",,"25:ESMainMenu:Consider upgrading your ships (ExtraSystem)",
ESMainMenu,DialogOptionSelected,"$option==ESMainMenu","ShowDefaultVisual
$menuState = ESMainMenu
$ExtraUpgradePageIndex = 0","Welcome to ExtraSystem Reloaded!
Choose the function you want.","15:ESShipList:Consider an overhaul to a ship
90:ESDialogBack:Back",
ESShipList,DialogOptionSelected,"$option==ESShipList","Es_ShipListDialog",,,
,,,,,,
ESShipPicked,DialogOptionSelected,"$option==ESShipPicked","$menuState = ESShipPicked
unset $ExtraUpgradePageIndex
Es_ShipDialog",,,
ESShipQualityPicked,DialogOptionSelected,"$option==ESShipQualityPicked
Es_ShipPicked get","$menuState = ESQuality
Es_ShipQualityDialog QualityUpgradeSelected",,,
ESShipQualityApply,DialogOptionSelected,"$option==ESShipQualityApply
Es_ShipPicked get","Es_ShipQualityDialog ApplyQualityUpgrade",,,
,,,,,,
ESShipExtraUpgradesPicked,DialogOptionSelected,"$option==ESShipExtraUpgradesPicked
Es_ShipPicked get","$menuState = ESUpgrades
Es_ShipUpgradeDialog ExtraUpgradesSelected",,,
ESShipExtraUpgradesPREV,DialogOptionSelected,"$option==ESShipExtraUpgradesPREV","$ExtraUpgradePageIndex--
Es_ShipUpgradeDialog ChangedPage",,,
ESShipExtraUpgradesNEXT,DialogOptionSelected,"$option==ESShipExtraUpgradesNEXT","$ExtraUpgradePageIndex++
Es_ShipUpgradeDialog ChangedPage",,,
ESShipExtraUpgradeConfirm,DialogOptionSelected,"$menuState==ESUpgrades
Es_ShipPicked get
Es_UpgradePicked exists $option","Es_UpgradePicked set $option
Es_ShipUpgradeDialog ConfirmExtraUpgrade",,,
ESShipExtraUpgradeApplyResources,DialogOptionSelected,"$option==ESShipExtraUpgradeApplyResources
Es_ShipPicked get
Es_UpgradePicked get","Es_ShipUpgradeDialog ApplyExtraUpgradeResources",,,
ESShipExtraUpgradeApplyCredits,DialogOptionSelected,"$option==ESShipExtraUpgradeApplyCredits
Es_ShipPicked get
Es_UpgradePicked get","Es_ShipUpgradeDialog ApplyExtraUpgradeCredits",,,

,,,,,,
ESShipAugmentsPicked,DialogOptionSelected,"$option==ESShipAugmentsPicked
Es_ShipPicked get","$menuState = ESAugments
Es_ShipAugmentsDialog AugmentsSelected",,,
ESShipAugmentsPREV,DialogOptionSelected,"$option==ESShipAugmentsPREV","$ExtraUpgradePageIndex--
Es_ShipAugmentsDialog ChangedPage",,,
ESShipAugmentsNEXT,DialogOptionSelected,"$option==ESShipAugmentsNEXT","$ExtraUpgradePageIndex++
Es_ShipAugmentsDialog ChangedPage",,,
ESShipAugmentsConfirm,DialogOptionSelected,"$menuState==ESAugments
Es_ShipPicked get
Es_AugmentPicked exists $option","Es_AugmentPicked set $option
Es_ShipAugmentsDialog ConfirmAugmentPurchase",,,
ESShipAugmentApply,DialogOptionSelected,"$option==ESShipAugmentApply
Es_ShipPicked get
Es_AugmentPicked get","Es_ShipAugmentsDialog ApplyAugment",,,
ESShipAugmentDestroy,DialogOptionSelected,"$option==ESShipAugmentDestroy
Es_ShipPicked get
Es_AugmentPicked get","Es_ShipAugmentsDialog DestroyAugment",,,
,,,,,,
ESDialogBack,DialogOptionSelected,"$option==ESDialogBack","ShowDefaultVisual
$menuState = main 0
FireAll PopulateOptions
unset $ShipSelectedId
unset $UpgradeId
unset $ExtraUpgradePageIndex",,,
,,,,,,

